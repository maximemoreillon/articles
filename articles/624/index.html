<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=content-type content="text/html"><meta name=viewport content="width=device-width,initial-scale=1"><title itemprop=name>Unlocking my apartment with my face | Maxime Moreillon</title><meta property="og:title" content="Unlocking my apartment with my face | Maxime Moreillon"><meta name=twitter:title content="Unlocking my apartment with my face | Maxime Moreillon"><meta itemprop=name content="Unlocking my apartment with my face | Maxime Moreillon"><meta name=application-name content="Unlocking my apartment with my face | Maxime Moreillon"><meta property="og:site_name" content><meta name=description content><meta itemprop=description content><meta property="og:description" content><meta name=twitter:description content><meta property="og:locale" content="en-us"><meta name=language content="en-us"><link rel=alternate hreflang=en href=https://articles.maximemoreillon.com/articles/624/ title><meta name=generator content="Hugo 0.147.8"><meta property="og:url" content="https://articles.maximemoreillon.com/articles/624/"><meta property="og:site_name" content="Maxime Moreillon"><meta property="og:title" content="Unlocking my apartment with my face"><meta property="og:description" content="As part of a previous project, I installed an IoT lock on my front door, which allowed me to control it using my smartphone. However, having to take out my smartphone every time I want to unlock the door quickly becomes annoying. To improve on the situation, I installed an RFID reader on the lock, which I used in combination with an RFID ring which now serves as my key. To follow up on this trend of finding new ways to unlock my door, I decided to explore face recognition technologies."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="articles"><meta property="article:published_time" content="2021-11-22T00:00:00+00:00"><meta property="article:modified_time" content="2021-11-22T00:00:00+00:00"><meta property="article:tag" content="AI / ML"><meta property="article:tag" content="Computer Vision"><meta property="article:tag" content="ESP32"><meta property="article:tag" content="Python"><meta property="article:tag" content="IoT"><meta name=twitter:card content="summary"><meta name=twitter:title content="Unlocking my apartment with my face"><meta name=twitter:description content="As part of a previous project, I installed an IoT lock on my front door, which allowed me to control it using my smartphone. However, having to take out my smartphone every time I want to unlock the door quickly becomes annoying. To improve on the situation, I installed an RFID reader on the lock, which I used in combination with an RFID ring which now serves as my key. To follow up on this trend of finding new ways to unlock my door, I decided to explore face recognition technologies."><link rel=canonical href=https://articles.maximemoreillon.com/articles/624/><link href=/style.min.e390ba7da26222f4dc42a349955d76dbbe44e5ce2535a43de5a70633a0a9ec3c.css rel=stylesheet><link href=/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css rel=stylesheet><link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/icons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/icons/favicon-16x16.png><link rel=mask-icon href=/icons/safari-pinned-tab.svg><link rel="shortcut icon" href=/favicon.ico><link rel=manifest href=https://articles.maximemoreillon.com/site.webmanifest><meta name=msapplication-config content="/browserconfig.xml"><meta name=msapplication-TileColor content="#2d89ef"><meta name=theme-color content="#434648"><meta name=color-scheme content="light dark"><link rel=icon type=image/svg+xml href=/icons/favicon.svg></head><body data-theme class=notransition><script src=/js/theme.min.8961c317c5b88b953fe27525839672c9343f1058ab044696ca225656c8ba2ab0.js integrity="sha256-iWHDF8W4i5U/4nUlg5ZyyTQ/EFirBEaWyiJWVsi6KrA="></script><div class=navbar role=navigation><nav class=menu aria-label="Main Navigation"><a href=https://articles.maximemoreillon.com/ class=logo><svg width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><title/><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
</a><input type=checkbox id=menu-trigger class=menu-trigger>
<label for=menu-trigger><span class=menu-icon><svg width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7H3.40726"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M.5 12.5V1.5c0-.552285.447715-1 1-1h11C13.0523.5 13.5.947715 13.5 1.5v11C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C.947715 13.5.5 13.0523.5 12.5z"/></svg></span></label><div class=trigger><ul class=trigger-container><li><a class=menu-link href=/>Home</a></li><li><a class="menu-link active" href=/articles/>Articles</a></li><li><a class=menu-link href=/tags/>Tags</a></li><li class=menu-separator><span>|</span></li></ul><a id=mode href=#><svg class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg>
<svg class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg></a></div></nav></div><div class="wrapper post"><main class=page-content aria-label=Content><article><header class=header><h1 class=header-title>Unlocking my apartment with my face</h1><div class=post-meta><time datetime=2021-11-22T00:00:00+00:00 itemprop=datePublished>Nov 22, 2021</time></div></header><div class=page-content><p>As part of a previous project, I installed an <a href=/articles/237>IoT lock</a> on my front door, which allowed me to control it using my smartphone. However, having to take out my smartphone every time I want to unlock the door quickly becomes annoying. To improve on the situation, I installed an RFID reader on the lock, which I used in combination with an <a href=/articles/523>RFID ring which now serves as my key</a>. To follow up on this trend of finding new ways to unlock my door, I decided to explore face recognition technologies.</p><p>The first step in this endeavor was to get my hands on a camera that I could use. Luckily, the ESP32 microcontroller provides support for OV2640 cameras and including those can be purchased for less than USD 10$ online. Moreover, the ESP32 can handle MQTT, which my lock can use to receive the unlock command. Here I got myself a TTGO T-camera plus as it also includes a display, useful to inform the user of what is happening.</p><p>There are various Arduino sketch available online that can interact with an OV2640 camera from the ESP32. One such sketch in particular performs face detection and even recognition. For this project, I created a firmware for the T-camera plus based on this face detection system. However, I left the face recognition aside as I didn&rsquo;t trust it so much and wanted to have more control on how to achieve it.</p><p>For face recognition, I used the popular <a href=https://github.com/ageitgey/face_recognition>face_recognition pip package</a>. Here, I designed a simple FastAPI application that exposes the face recognition abilities of the package via HTTP requests, which the ESP32 can handle. This application also manages user registration, storing user information in a MongoDB database.</p><p>I deployed the application in K3s on an Nvidia Jetson Nano in order to benefit from GPU acceleration.</p><p>To facilitate user management, I built a simple front-end for the application using Vue.js and Vuetify.</p><p><img src=https://img.maximemoreillon.com/images/619b82549a075fef0e5a079b alt></p><p>With this setup, the ESP32 constantly scans for faces. When a face is detected, a frame is captured and sent to the face recognition service running on the Jetson Nano. The latter then checks the face against those stored in the user database. If a match is found, the application respond with an HTTP 200, after which the ESP32 sends an MQTT message to the lock so as to unlock the door.</p><p>The code for this project is available on GitHub:</p><ul><li><a href=https://github.com/maximemoreillon/esp32-cam-remote-face-recognition>ESP32 firmware</a></li><li><a href=https://github.com/maximemoreillon/face-recognition-fastapi>Face recognition FastAPI app</a></li><li><a href=https://github.com/maximemoreillon/face-recognition-fastapi-front>GUI for the FastAPI app</a></li></ul><p>Moreover, the web application can be deployed as docker containers, for which images can be found on Docker Hub:</p><ul><li><a href=https://hub.docker.com/repository/docker/moreillon/face-recognition-fastapi-front>Front-end</a></li><li><a href=https://hub.docker.com/repository/docker/moreillon/face-recognition-fastapi>Back-end</a></li></ul></div></article></main></div><footer class=footer><span class=footer_item></span>&nbsp;<div class=footer_social-icons></div><small class=footer_copyright>Â© 2025 Maxime Moreillon.</small></footer><script src=https://articles.maximemoreillon.com/js/main.min.4ee188e1744c19816e95a540b2650ed9f033ea0371e74eac8e717355cfca8741.js integrity="sha256-TuGI4XRMGYFulaVAsmUO2fAz6gNx506sjnFzVc/Kh0E="></script></body></html>