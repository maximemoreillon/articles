+++
date = '2023-05-12'
title = "Anshin"
tags = ['Tailwind CSS', 'Astro', 'Node-RED', 'Projects']
+++

I live by myself far away from my relatives, which can can make them worried if they don't hear about me for too long. To reassure them, I made a simple web application which displays my recent activity alongside a list of emergency contacts.

![Article image](https://img.maximemoreillon.com/images/645ecb973581c50013b50aa5)

Because the app did not require any kind of interactivity, I decided to build it using [Astro](https://astro.build/). As the recent activity needs shown on the app to be up to date, Astro is in SSR mode with the Node.js adapter, thus fetching the latest data every time the page is requested. The app is written in TypeScript and uses the Tailwind CSS framework for styling.

The "Recent activity" section displays data queried from Loki, which can be fed data from various sources. Here, a used a simple Node-red flow to forward MQTT motion sensor messages to Loki.

![Article image](https://img.maximemoreillon.com/images/645ecd3d3581c50013b50aa9)

On the other hand, the emergency contacts are provided as a .yml file which is parsed by the Astro application at runtime.

The app is currently deployed on my Kubernetes cluster. However, as it displays personal information of my emergency contacts, I didn't want to make it fully open to the public. On the other hand, implementing an authentication mechanism would have been too involved for such as simple project. As such, access control is achieved using basic authentication configured on the corresponding Kubernetes Ingress. More information about this process can be found in [this article](https://articles.maximemoreillon.com/articles/374).

As usual, the source code is available on [GitHub](https://github.com/maximemoreillon/anshin).