+++
date = '2023-12-14'
title = "A router out of a desktop PC with pfSense"
tags = ['pfSense', 'Projects']
+++

My router started to get old and I needed to find a replacement. I was using a TP-LINK Archer C7000 with its original firmware replaced by OpenWRT. OpenWRT provided a lot more customization options, one of them being the ability to add packages for various function.

The typical Router for home use is made out of cheap hardware and is consequently fairly limited in terms of resources like memory. So, instead of going to OpenWRT path again, I decided to look into pfSense, a software defined firewall and router solution.

pfSense is built on top of FeeBSD. As such, it runs on standard desktop-grade computers with x86 CPU architecture. So, I got myself a second hand Dell OptiPlex as hardware platform.

![Article image](https://img.maximemoreillon.com/images/657a6b1aa55836001733f8f6)

Just like any router, pfSense needs at least 2 network interfaces to operate. The OptiPlex I bought only had one integrated into the motherboard so I also purchased a PCIe 4 port NIC.

![Article image](https://img.maximemoreillon.com/images/657a6b36a55836001733f8fa)

Although pfSense can now manage Wifi, a dedicated wifi access point is usually recommended. For this purpose, I found a second-hand Aruba 207 access point online.

![Article image](https://img.maximemoreillon.com/images/657a6b54a55836001733f8fe)

With the hardware covered, all that remained was installing and configuring pfSense which was fairly straightforward.