+++
date = '2020-03-09'
title = "IoT ceiling lights"
tags = ['IoT', 'WIP', 'Electronics', 'Projects', 'MQTT', 'ESP8266']
+++

After experimenting with various options to make my existing lights smarter, I decided that designing my own hardware would provide me with more customization options. The result are those ceiling lights, made out of an aluminum frame and COB LEDs.

Here, white COB LEDs provide most of luminance but the lights also feature RGB LED strips to add color to the lighting.

The LEDs are controlled by a custom PCB which embeds MOSFETs for each color channel, driven by an ESP8266. Here, PWM is used to provide a dimming feature.

![Article image](https://img.maximemoreillon.com/images/63002d8fffbcde129ab401ff)

More information about the LED controller is available on the [dedicated project page](https://articles.maximemoreillon.com/articles/cf503085-523f-47f3-aa3f-445ab27a7a3d).

Software-wise, the ESP8266 runs a custom firmware which handles the driving of the MOSFETs using PWM. Moreover, the IoT capabilities of the ESP8266 are leveraged so that the lights can be controlled via MQTT and HTTP.

The source code of the firmware is available on [GitHub](https://github.com/maximemoreillon/led_controller)