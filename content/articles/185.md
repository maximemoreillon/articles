+++
date = '2020-03-10'
title = "IoT air conditioner controller"
tags = ['Electronics', 'MQTT', 'IoT', 'ESP8266', 'Projects']
+++

Air conditioners consume a fair amount of electricity. As such, forgetting to turn one off before leaving one's home can result in an expensive electricity bill. This is a Wi-Fi enabled controller for air conditioners, which can turn the unit on or off according to MQTT messages. It is built around an Wemos D1 mini and interfaces with the AC using an IR LED.

The Wemos D1 mini drives the infrared LED so as to send signals identical to that of the original remote controller of the AC. Those signals must first be recorded, which can be done with an IR receiver connected to an Arduino running [this sketch](https://www.analysir.com/blog/2014/03/19/air-conditioners-problems-recording-long-infrared-remote-control-signals-arduino/).

![](https://img.maximemoreillon.com/image?id=5e786d716f2c2a096319cad0)

Additionally, an HC-SR501 PIR motion sensor and a DHT22 temperature and humidity sensor are included for added functionality.

![](https://img.maximemoreillon.com/images/62b837003bbcba2e2e77bcfd)

Here are the parts used in this project:

* Wemos D1 mini
* DHT22 Temperature and humidity sensor
* HC-SR501 PIR motion sensor
* 940nm IR LED
* 2N2222A NPN transistor
* 100Ω resistor
* 1kΩ resistor

More info about the hardware on [OSHWLab](https://oshwlab.com/m.moreillon/iot_air_conditioner_controller)

On the other hand, the source code is available on [GitHub](https://github.com/maximemoreillon/ac_controller_json).