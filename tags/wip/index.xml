<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>WIP on Maxime Moreillon</title>
    <link>https://articles.maximemoreillon.com/tags/wip/</link>
    <description>Recent content in WIP on Maxime Moreillon</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 27 Mar 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://articles.maximemoreillon.com/tags/wip/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>IoT LED controller</title>
      <link>https://articles.maximemoreillon.com/articles/cf503085-523f-47f3-aa3f-445ab27a7a3d/</link>
      <pubDate>Sun, 27 Mar 2022 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/cf503085-523f-47f3-aa3f-445ab27a7a3d/</guid>
      
      <description>&lt;p&gt;Smart lights are usually some of the first appliances to be added to a smart home. Although those can nowadays be purchased easily from various brands, I wanted to have my own hardware so as to integrate it better with other devices and software. Thus, I decided to an IoT LED controller that I can use in various projects where lighting has to be controlled via network protocols.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/6240057135a52f5ea69e899b&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;hardware&#34;&gt;Hardware&lt;/h2&gt;
&lt;p&gt;The controller is built around an ESP8266 microcontroller (Wemos D1 mini) and N-Channel MOSFETS. The latter switch the 12V line of LED strips or COBs according to the microcontroller. Here, up to 4 channels of LEDs can be controlled by a single controller.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Wardrobe and outfits management web app</title>
      <link>https://articles.maximemoreillon.com/articles/0c1a7a47-c651-472d-a867-e1e2b040e997/</link>
      <pubDate>Thu, 27 Jan 2022 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/0c1a7a47-c651-472d-a867-e1e2b040e997/</guid>
      
      <description>&lt;p&gt;Have you ever bought a piece of clothing only to come home and realize you already had a similar one in your wardrobe? This web application aims at solving this problem by allowing users to register their garments in a database.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/61f2b47035a52f9bb09e4eef&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Moreover, the application provides a way to register complete outfits and list the various garments that are parts it.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/62b8fa733bbcba1c3e77be8c&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;The application consists of a Node.js back-end which stores garment information in a MongoDB database. It also provides a REST API built using Express to exchange data with the application&amp;rsquo;s GUI. The latter is a Vue.js single page application featuring UI components from the Vuetify library.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>IoT Kernel</title>
      <link>https://articles.maximemoreillon.com/articles/e8563fbc-a061-4bca-ada2-31392fc3e8ad/</link>
      <pubDate>Mon, 03 Jan 2022 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/e8563fbc-a061-4bca-ada2-31392fc3e8ad/</guid>
      
      <description>&lt;p&gt;Over the years, I have written firmwares for various IoT devices such as lights, locks or heaters. Those firmwares would generally handle a common set of basic functions like managing wifi connection, serving a configuration web interface over HTTP or exchange MQTT messages. However, having to implement and maintain those functions for each individual firmware quickly became tedious work. Consequently, I decided to write a library to handle all those basic functions. This library is used as a base for IoT device firmwares, on top of which device-specific logic can easily be added.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Distributing a Helm chart on Artifact Hub</title>
      <link>https://articles.maximemoreillon.com/articles/626/</link>
      <pubDate>Tue, 23 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/626/</guid>
      
      <description>&lt;p&gt;Building applications in a microservice architecture has become more and more popular recently. With this design pattern, an application is composed of multiple services that run independently and generally share data across network protocols.&lt;/p&gt;
&lt;p&gt;An example of such application could be an e-commerce website where users, product inventory or orders are all managed by their own respective independent service.&lt;/p&gt;
&lt;p&gt;Since all services are independent, deploying an application to Kubernetes involves the deployment of a large amount of resources such as deployments, services, PVCs, which can quickly become tedious if done by hand. To solve this problem, applications can be packaged using Helm, which takes care of deploying all the necessary resources. An application packaged with Helm is called a chart. Similarly to how Docker containers are spawned from container images, in helm, applications are spawned from Helm Charts.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Food manager</title>
      <link>https://articles.maximemoreillon.com/articles/573/</link>
      <pubDate>Tue, 02 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/573/</guid>
      
      <description>&lt;p&gt;The other day, I found myself putting on some weight. This rather surprised me as I thought I was having a healthy diet and exercised almost daily. To identify the root of the problem, I decided to start measuring my calorie intake as well as the macronutrients that constitute said intake.&lt;/p&gt;
&lt;p&gt;To achieve this, I built a simple web application using the MEVN stack. The application serves two purposes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Store information about the various food I eat&lt;/li&gt;
&lt;li&gt;Compute the total calorie count and macronutrients constitution of a given list of food&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;food-database&#34;&gt;Food database&lt;/h2&gt;
&lt;p&gt;In order to compute a calorie count or macronutrient constitution of a meal, one must first know those values for each individual piece of food in it. This information is stored in a MongoDB collection, managed by its own model, controllers, routes and view.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>MQTT control dashboard</title>
      <link>https://articles.maximemoreillon.com/articles/555/</link>
      <pubDate>Tue, 28 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/555/</guid>
      
      <description>&lt;p&gt;With the cloud native multi-user MQTT platform deployed, I started designing IoT devices that I could distribute to end users. However, without a GUI, interacting with those devices would be difficult. Of course, one could install applications like MQTT dash or similar but this would require tedious configuration such as MQTT broker and topics. I wanted to give users a simpler UX so I made this simple control interface that automatically displays a users devices and allows those to be controlled.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Group and User Pickers</title>
      <link>https://articles.maximemoreillon.com/articles/134/</link>
      <pubDate>Sat, 25 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/134/</guid>
      
      <description>&lt;p&gt;With the &lt;a href=&#34;https://articles.maximemoreillon.com/articles/585&#34;&gt;user management&lt;/a&gt; and &lt;a href=&#34;https://articles.maximemoreillon.com/articles/398&#34;&gt;group management microservices&lt;/a&gt;, users and their groups can be easily queried through HTTP requests. However, the GUI that the user interacts with must also be properly designed so as to provide an optimal UX. To facilitate the query of users via the GUI, I designed a group and user picker component for Vue.js that can be easily installed using NPM.&lt;/p&gt;
&lt;h2 id=&#34;group-picker&#34;&gt;Group picker&lt;/h2&gt;
&lt;p&gt;With the group management microservice, users are divided into groups. So, I first designed a group picker that allows to query the node corresponding to a specific group in the database. This picker takes advantage of the tree structure of groups to show those in orderly fashion. The component has been made so as to emit the group properties when a selection is made.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>SONOFF S20 firmware</title>
      <link>https://articles.maximemoreillon.com/articles/587/</link>
      <pubDate>Sat, 25 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/587/</guid>
      
      <description>&lt;p&gt;The SONOFF S20 is a cheap Wifi smart socket that enables the remote control of appliances for less than USD 10. Although the hardware is more than decent, its usage requires a proprietary app which most likely involves a third party server between the user and the device. Since the socket uses an ESP8266 at its core, I decided to write my own firmware for it.&lt;/p&gt;
&lt;p&gt;I designed the firmware so as to control the socket via MQTT messages. I also added a web server that serves a simple UI for configuration and firmware updates. Initially, the firmware was flashed using the exposed UART connector inside the SONOFF S20.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>WiFi light bulb controller</title>
      <link>https://articles.maximemoreillon.com/articles/520/</link>
      <pubDate>Tue, 21 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/520/</guid>
      
      <description>&lt;p&gt;Wifi controlled smart light bulbs can now be purchased from less than USD 10. However, those can often only be used by a specific application provided by the vendor and can involve exchanging data with a third party server. I wanted a solution to use my own software while benefiting from the cheap hardware so I replaced the wifi module of a a cheap Wifi light bulb my own electronics.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Group management microservice</title>
      <link>https://articles.maximemoreillon.com/articles/398/</link>
      <pubDate>Mon, 20 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/398/</guid>
      
      <description>&lt;p&gt;As a graph database Neo4j is a great choice to manage highly relational data. On the other side, a great number of applications feature at least some form of user management system. With Neo4j, those users can be store as nodes and connected to other items via relationships. A typical example would be a blog, where both articles and users are individual nodes while authorships are represented by a relationship.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Multi-user MQTT platform</title>
      <link>https://articles.maximemoreillon.com/articles/485/</link>
      <pubDate>Mon, 20 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/485/</guid>
      
      <description>&lt;p&gt;Mosquitto is usually the first candidate to come to mind when looking for an MQTT broker. However, by default, Mosquitto manages users using a password file. This makes it difficult to easily add or remove users, especially when the broker is deployed in Kubernetes.&lt;/p&gt;
&lt;p&gt;I recently stumbled upon the &lt;a href=&#34;https://github.com/iegomez/mosquitto-go-auth&#34;&gt;mosquitto-go-auth plugin&lt;/a&gt;, which allows for the authentication to be performed by an external service, by connecting to the latter via, for example, HTTP requests.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>IoT pan-tilt platform</title>
      <link>https://articles.maximemoreillon.com/articles/458/</link>
      <pubDate>Thu, 04 Feb 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/458/</guid>
      
      <description>&lt;p&gt;With the COVID-19 pandemic, many of us cannot participate in family gatherings or other similar events in person. Instead, some opt for video-call applications like zoom, but then get constrained to the field of view of camera of the device used for the call.&lt;/p&gt;
&lt;p&gt;In order to look around more freely, I modified this off the shelf pan-tilt platform so as to be controlled by MQTT from anywhere in the world.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Energy transformation demonstration</title>
      <link>https://articles.maximemoreillon.com/articles/588/</link>
      <pubDate>Sun, 08 Nov 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/588/</guid>
      
      <description>&lt;p&gt;Earlier this year, a friend of mine was organizing an event to promote eco-friendly behaviors. She wanted someone to talk about our relationship with energy and asked me to give a presentation on the topic, which I agreed to. I wanted the presentation to be entertaining so I designed a set of hardware demonstrations aimed at explaining physical concepts related to energy.&lt;/p&gt;
&lt;p&gt;The core idea was to show how energy is not created but transformed from one form to another. Consequently, if one wants to use electricity to power a light bulb, this electricity must be transform from mechanical or chemical energy, for example. Additionally, the light bulb transforms electrical energy into light, but also heat, which is an undesirable byproduct of the transformation. This brings the concept of efficiency, which is to be maximized as much as possible so as to reduce energy &amp;ldquo;waste&amp;rdquo;.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>RFID wristband</title>
      <link>https://articles.maximemoreillon.com/articles/589/</link>
      <pubDate>Sun, 04 Oct 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/589/</guid>
      
      <description>&lt;p&gt;RFID tags are great but often easy to lose. To solve this problem, I designed this case for an RFID tag, which can be worn on one&amp;rsquo;s wrist using a standard watch strap. The case was designed using Fusion360 and then 3D printed.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/614eaa369a075f73f659c403&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;The RFID tag is slim enough to fit in the enclosure and is secured using the provided adhesive&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/614eaa419a075f432e59c407&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;The STL file for this project is available on &lt;a href=&#34;https://www.thingiverse.com/thing:5145141&#34;&gt;Thingiverse&lt;/a&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Self-hosted GitLab instance for DevOps on Ubuntu 18.04</title>
      <link>https://articles.maximemoreillon.com/articles/409/</link>
      <pubDate>Tue, 02 Jun 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/409/</guid>
      
      <description>&lt;p&gt;GitLab provides a great number of tools needed for the DevOps cycle of an application. In this guide, we&amp;rsquo;ll install a GitLab instance on our own server and configure it to fit our DevOps needs. Here, we will use a fresh install of Ubuntu 18.04 as a base.&lt;/p&gt;
&lt;h2 id=&#34;gitlab-installation&#34;&gt;GitLab installation&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://about.gitlab.com/install/&#34;&gt;https://about.gitlab.com/install/&lt;/a&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get update
sudo apt-get install -y curl openssh-server ca-certificates
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo EXTERNAL_URL=&amp;#34;http://192.168.1.2:8090&amp;#34; apt-get install gitlab-ee
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;docker-installation&#34;&gt;Docker installation&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt install docker.io
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;kubectl-installation&#34;&gt;Kubectl installation&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;snap install kubectl --classic
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;gitlab-runner-installation-registration-and-configuration&#34;&gt;GitLab runner installation, registration and configuration&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh | sudo bash
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install gitlab-runner
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo gitlab-runner register
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Finally, appropriate permissions must be given to the runner to use Docker&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Image upload microservice</title>
      <link>https://articles.maximemoreillon.com/articles/43/</link>
      <pubDate>Mon, 23 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/43/</guid>
      
      <description>&lt;p&gt;An image is worth a thousand words and probably even more if comparing their size in bytes. When designing my CMS, I originally intended to store images directly in the article, encoded in Base64. However, this would considerably increase the size of each article, making the whole CMS slow.&lt;/p&gt;
&lt;p&gt;Ideally images would be loaded independently from articles, which requires them to be served separately. Consequently, I created a simple image management microservice that allows to upload images through a web interface and serves them wherever required.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Home automation</title>
      <link>https://articles.maximemoreillon.com/articles/391/</link>
      <pubDate>Tue, 10 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/391/</guid>
      
      <description>&lt;p&gt;Few would argue that having lights turned on in a room without occupant is a waste of electricity. Ideally, lights and other appliances like air conditioners would only be turned on when someone is around. This project is a NodeJS application that gathers data about the occupancy of an apartment and manages appliances accordingly.&lt;/p&gt;
&lt;p&gt;Over the years, I modified all the lights, air conditioners and heaters of my apartment so as to control them via MQTT. In the process, I also deployed multiple sensors among which are PIR motion sensors. This node app subscribes to the MQTT topics of all motion sensors and determines in which room the user is based on which sensor was triggered.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>IoT ceiling lights</title>
      <link>https://articles.maximemoreillon.com/articles/180/</link>
      <pubDate>Mon, 09 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/180/</guid>
      
      <description>&lt;p&gt;After experimenting with various options to make my existing lights smarter, I decided that designing my own hardware would provide me with more customization options. The result are those ceiling lights, made out of an aluminum frame and COB LEDs.&lt;/p&gt;
&lt;p&gt;Here, white COB LEDs provide most of luminance but the lights also feature RGB LED strips to add color to the lighting.&lt;/p&gt;
&lt;p&gt;The LEDs are controlled by a custom PCB which embeds MOSFETs for each color channel, driven by an ESP8266. Here, PWM is used to provide a dimming feature.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>This very application, a CMS based on Neo4J</title>
      <link>https://articles.maximemoreillon.com/articles/112/</link>
      <pubDate>Thu, 05 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/112/</guid>
      
      <description>&lt;p&gt;Publishing articles on a website can be as simple as uploading HTML files to a web server. However, writing articles in raw HTML can be time consuming. A content management system (CMS) is an application designed to solve this issue by providing a simple way to create and manage web content directly from the web browser. There are many CMSs available, namely Wordpress or Joomla but I decided to create my own as a form of practice and in order to have it highly customized to my needs.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>4WD robot</title>
      <link>https://articles.maximemoreillon.com/articles/553/</link>
      <pubDate>Mon, 11 Aug 2014 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/553/</guid>
      
      <description>&lt;p&gt;I found a cheap 4 wheel drive chassis on eBay and decided to make a remote controlled robot out of it. Thus, I made a simple board with two H-bridge modules, an NRF24L01 wireless module and Arduino pro mini.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/614fc82f9a075f361259c807&#34; alt=&#34;&#34;&gt;To control the robot, I designed a simple remote controller with an Arduino pro-mini, joystick and NRF24L01 module&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/614fc8519a075f88b759c80b&#34; alt=&#34;&#34;&gt;As it is, the robot was not very useful, even when displaying some creativity.&lt;/p&gt;</description>
      
    </item>
    
  </channel>
</rss>
