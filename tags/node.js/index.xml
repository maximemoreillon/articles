<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Node.js on Maxime Moreillon</title>
    <link>https://articles.maximemoreillon.com/tags/node.js/</link>
    <description>Recent content in Node.js on Maxime Moreillon</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 11 Feb 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://articles.maximemoreillon.com/tags/node.js/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Node.js testing for multiple environment variables</title>
      <link>https://articles.maximemoreillon.com/articles/cce8a613-0885-4ac0-a0e0-b6d454d811cf/</link>
      <pubDate>Sun, 11 Feb 2024 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/cce8a613-0885-4ac0-a0e0-b6d454d811cf/</guid>
      
      <description>&lt;p&gt;I recently added S3 support to my &lt;a href=&#34;https://github.com/maximemoreillon/image_manager&#34;&gt;image serving microservice&lt;/a&gt;. Thanks to it, images uploaded to the service can be stored in an S3 bucket as opposed to a local folder. However, as some users might not want to use the feature, I made it so that is can be enabled by setting a specific environment variable, namely S3_BUCKET.&lt;/p&gt;
&lt;p&gt;However, as both local storage and S3 storage cannot be both enabled at the same time, the Mocha tests I had written could not cover the whole code of the application in a single run.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Web based approval system</title>
      <link>https://articles.maximemoreillon.com/articles/627bd1d8-79e3-4b3b-8c71-95e76c937d93/</link>
      <pubDate>Sat, 30 Jul 2022 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/627bd1d8-79e3-4b3b-8c71-95e76c937d93/</guid>
      
      <description>&lt;p&gt;With the COVID-19 and the introduction of remote work, a many japanese companies were struggling with the approval of documents, since those needed to be physically stamped with one&amp;rsquo;s personal seal named Hanko.&lt;/p&gt;
&lt;p&gt;I decided to solve this issue by creating a web application to keep track of approvals (or rejections). The application, allows users to submit application forms of various kinds to recipients of their choice. Each recipient can decide wether to approve or reject the submission.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Weight tracker</title>
      <link>https://articles.maximemoreillon.com/articles/4d7c6224-9574-4015-b45b-c6f2cbfb4e4c/</link>
      <pubDate>Mon, 20 Jun 2022 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/4d7c6224-9574-4015-b45b-c6f2cbfb4e4c/</guid>
      
      <description>&lt;p&gt;Managing one&amp;rsquo;s body weight can be quite a challenge. And as the quote from Peter Drucker goes, &amp;ldquo;You can&amp;rsquo;t manage what you can&amp;rsquo;t measure&amp;rdquo;. So, I built a body weight scale that can upload data to an API of my choice, which was the object of &lt;a href=&#34;https://articles.maximemoreillon.com/articles/160&#34;&gt;this article&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I used &lt;a href=&#34;https://thingspeak.com/&#34;&gt;ThingSpeak&lt;/a&gt; to store this data for some time but then decided I wanted to have my own storing system. Thus I designed a simple Node.js application to handle this.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Wardrobe and outfits management web app</title>
      <link>https://articles.maximemoreillon.com/articles/0c1a7a47-c651-472d-a867-e1e2b040e997/</link>
      <pubDate>Thu, 27 Jan 2022 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/0c1a7a47-c651-472d-a867-e1e2b040e997/</guid>
      
      <description>&lt;p&gt;Have you ever bought a piece of clothing only to come home and realize you already had a similar one in your wardrobe? This web application aims at solving this problem by allowing users to register their garments in a database.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/61f2b47035a52f9bb09e4eef&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Moreover, the application provides a way to register complete outfits and list the various garments that are parts it.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/62b8fa733bbcba1c3e77be8c&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;The application consists of a Node.js back-end which stores garment information in a MongoDB database. It also provides a REST API built using Express to exchange data with the application&amp;rsquo;s GUI. The latter is a Vue.js single page application featuring UI components from the Vuetify library.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Food manager</title>
      <link>https://articles.maximemoreillon.com/articles/573/</link>
      <pubDate>Tue, 02 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/573/</guid>
      
      <description>&lt;p&gt;The other day, I found myself putting on some weight. This rather surprised me as I thought I was having a healthy diet and exercised almost daily. To identify the root of the problem, I decided to start measuring my calorie intake as well as the macronutrients that constitute said intake.&lt;/p&gt;
&lt;p&gt;To achieve this, I built a simple web application using the MEVN stack. The application serves two purposes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Store information about the various food I eat&lt;/li&gt;
&lt;li&gt;Compute the total calorie count and macronutrients constitution of a given list of food&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;food-database&#34;&gt;Food database&lt;/h2&gt;
&lt;p&gt;In order to compute a calorie count or macronutrient constitution of a meal, one must first know those values for each individual piece of food in it. This information is stored in a MongoDB collection, managed by its own model, controllers, routes and view.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>User management microservice based on Neo4J</title>
      <link>https://articles.maximemoreillon.com/articles/585/</link>
      <pubDate>Sat, 25 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/585/</guid>
      
      <description>&lt;p&gt;Web applications commonly require a user database and the management logic for it. Having to build such software infrastructure for each individual app would be time consuming so I designed a general-purpose user management microservice that can be easily integrated in a project.&lt;/p&gt;
&lt;p&gt;At its core, the service consists of a Node.js + Express API which stores and manages users as nodes in a Neo4J database. here, Neo4J was chosen so that other apps could add their own nodes to it and thus benefit from the advantages of a graph database.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Camera viewer</title>
      <link>https://articles.maximemoreillon.com/articles/519/</link>
      <pubDate>Mon, 20 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/519/</guid>
      
      <description>&lt;p&gt;IP cameras are cheaper than ever and with the ESP32-CAM boards it is now possible to stream video for less than USD 10. However, IP cameras are commonly either only accessible from within their network, or use servers from third party companies to allow users to see the video feed from anywhere in the world. As both scenarios are inconvenient, I decided to create a camera viewer application that can proxy the video feed to a web interface.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Group management microservice</title>
      <link>https://articles.maximemoreillon.com/articles/398/</link>
      <pubDate>Mon, 20 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/398/</guid>
      
      <description>&lt;p&gt;As a graph database Neo4j is a great choice to manage highly relational data. On the other side, a great number of applications feature at least some form of user management system. With Neo4j, those users can be store as nodes and connected to other items via relationships. A typical example would be a blog, where both articles and users are individual nodes while authorships are represented by a relationship.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Multi-user MQTT platform</title>
      <link>https://articles.maximemoreillon.com/articles/485/</link>
      <pubDate>Mon, 20 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/485/</guid>
      
      <description>&lt;p&gt;Mosquitto is usually the first candidate to come to mind when looking for an MQTT broker. However, by default, Mosquitto manages users using a password file. This makes it difficult to easily add or remove users, especially when the broker is deployed in Kubernetes.&lt;/p&gt;
&lt;p&gt;I recently stumbled upon the &lt;a href=&#34;https://github.com/iegomez/mosquitto-go-auth&#34;&gt;mosquitto-go-auth plugin&lt;/a&gt;, which allows for the authentication to be performed by an external service, by connecting to the latter via, for example, HTTP requests.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>User management and authentication service using MongoDB</title>
      <link>https://articles.maximemoreillon.com/articles/495/</link>
      <pubDate>Mon, 20 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/495/</guid>
      
      <description>&lt;p&gt;More often than not, web applications require restrictions regarding who can access the content that they serve. This involves an user management and authentication system, which, if designed inappropriately, can lead to security concerns. However, the development of such system can be time consuming, especially if done repeatedly for multiple applications.&lt;/p&gt;
&lt;p&gt;To solve this problem, this article presents a user management and authentication service, built around MongoDB, that can be easily plugged into an existing application with only minimal refactoring.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Node.js DevOps example</title>
      <link>https://articles.maximemoreillon.com/articles/98/</link>
      <pubDate>Mon, 25 May 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/98/</guid>
      
      <description>&lt;p&gt;In this article, we’ll build a simple &lt;a href=&#34;https://nodejs.org/en/&#34;&gt;Node.js&lt;/a&gt; application that uses &lt;a href=&#34;https://expressjs.com/&#34;&gt;Express&lt;/a&gt; to respond to HTTP requests. In order to deploy this application to production, we’ll also configure a &lt;a href=&#34;https://docs.gitlab.com/ee/ci/&#34;&gt;GitLab CI/CD&lt;/a&gt; pipeline so as to &lt;a href=&#34;https://www.docker.com/&#34;&gt;dockerize&lt;/a&gt; it and deploy its container to a &lt;a href=&#34;https://kubernetes.io/&#34;&gt;Kubernetes&lt;/a&gt; cluster.&lt;/p&gt;
&lt;h2 id=&#34;prerequisites&#34;&gt;Prerequisites&lt;/h2&gt;
&lt;p&gt;This article assumes that the following environment is available to the reader:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A development environment with &lt;a href=&#34;https://nodejs.org/en/&#34;&gt;Node.js&lt;/a&gt; installed.&lt;/li&gt;
&lt;li&gt;A &lt;a href=&#34;https://about.gitlab.com/install/&#34;&gt;GitLab&lt;/a&gt; instance with an available &lt;a href=&#34;https://docs.gitlab.com/runner/install/&#34;&gt;runner&lt;/a&gt; able to run the &lt;em&gt;docker&lt;/em&gt; and &lt;em&gt;kubectl&lt;/em&gt; commands.&lt;/li&gt;
&lt;li&gt;A production environment with a Kubernetes cluster reachable from the GitLab instance. For this, &lt;a href=&#34;https://microk8s.io/&#34;&gt;Microk8s&lt;/a&gt; is easy to get started with&lt;/li&gt;
&lt;li&gt;A &lt;a href=&#34;https://docs.docker.com/registry/deploying/&#34;&gt;Docker registry&lt;/a&gt; to push and pull containers to and from. Note that running your own registry might require &lt;a href=&#34;https://docs.docker.com/registry/insecure/&#34;&gt;Docker&lt;/a&gt; and Kubernetes configuration (guide for MicroK8s available &lt;a href=&#34;https://microk8s.io/docs/registry-private&#34;&gt;here&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Node.js application&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Fixed asset management system</title>
      <link>https://articles.maximemoreillon.com/articles/87/</link>
      <pubDate>Mon, 23 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/87/</guid>
      
      <description>&lt;p&gt;Many companies rely on spreadsheets to keep track of their fixed assets. However, spreadsheets are commonly designed to be edited manually, which makes automation difficult.&lt;/p&gt;
&lt;p&gt;The application presented in this article is a fixed asset management system based on a MongoDB database, and provides a REST API which makes it possible for other applications or devices to perform CRUD operations on the data, hence greatly improving the automation potential.&lt;/p&gt;
&lt;p&gt;The application uses the MEVN ( MongoDB, Express, Vue.js, Node.js ) stack and thus offers a browser-based GUI.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Image upload microservice</title>
      <link>https://articles.maximemoreillon.com/articles/43/</link>
      <pubDate>Mon, 23 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/43/</guid>
      
      <description>&lt;p&gt;An image is worth a thousand words and probably even more if comparing their size in bytes. When designing my CMS, I originally intended to store images directly in the article, encoded in Base64. However, this would considerably increase the size of each article, making the whole CMS slow.&lt;/p&gt;
&lt;p&gt;Ideally images would be loaded independently from articles, which requires them to be served separately. Consequently, I created a simple image management microservice that allows to upload images through a web interface and serves them wherever required.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Cashless payment system</title>
      <link>https://articles.maximemoreillon.com/articles/133/</link>
      <pubDate>Fri, 20 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/133/</guid>
      
      <description>&lt;p&gt;A company I worked for had a coffee machine for which employees could purchase coffee. However, the payment was done by putting coins in a jar.&lt;/p&gt;
&lt;p&gt;Not only did this present the obvious risk of theft, this system was also impractical for people not carrying spare change at all time. I decided to solve this issue by designing this cashless payment system.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/image?id=5e796ef4ad3848218cf8697e&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Here is a video of the system in action:&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Express authorization middleware</title>
      <link>https://articles.maximemoreillon.com/articles/247/</link>
      <pubDate>Mon, 16 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/247/</guid>
      
      <description>&lt;p&gt;Many applications require some form of authorization mechanism to prevent users from accessing restricted content. Authenticated users are commonly in possession of a cookie containing identification data. With the authentication microservice that I designed, this cookie contains a JWT that contains the user&amp;rsquo;s username. This JWT is sent in the authorization header of HTTP requests. Thus, authorization can be performed easily within each application by simply decoding the JWT. To do so, I designed this simple middleware for ExpressJS.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>LINE Bot</title>
      <link>https://articles.maximemoreillon.com/articles/86/</link>
      <pubDate>Mon, 16 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/86/</guid>
      
      <description>&lt;p&gt;LINE, the most popular messaging app in Japan, provides an API to build bots. Those bots can react to receive messages or send their own.&lt;/p&gt;
&lt;p&gt;I decided to use this API to build a simple notification microservice. Whenever a message is posted on its /notify endpoint, the message gets sent to my smartphone.&lt;/p&gt;
&lt;p&gt;In previous versions of the service, I also experimented with the processing of messages sent to the service. For instance, checking my apartment&amp;rsquo;s electricity consumption.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Finances management web app</title>
      <link>https://articles.maximemoreillon.com/articles/165/</link>
      <pubDate>Tue, 10 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/165/</guid>
      
      <description>&lt;p&gt;Most banks nowadays provide e-banking interfaces that allow clients to monitor the state of their accounts. However, each bank has its own system and the provided interfaces sometimes lack functionalities. Consequently, I decided to create my own finance dashboard, that combines information regarding multiple accounts. Currently I use it to keep track of my bank accounts balance over time as well as provide a breakdown of my transactions.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/60b1cf1043b282317cabca3b&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;The back-end of the application is built using NodeJS while data is stored in a MongoDB collection for transactions and InfluxDB for the balance history. On the other hand, the front end is built using VueJS and uses ChartsJS for plots.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Home automation</title>
      <link>https://articles.maximemoreillon.com/articles/391/</link>
      <pubDate>Tue, 10 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/391/</guid>
      
      <description>&lt;p&gt;Few would argue that having lights turned on in a room without occupant is a waste of electricity. Ideally, lights and other appliances like air conditioners would only be turned on when someone is around. This project is a NodeJS application that gathers data about the occupancy of an apartment and manages appliances accordingly.&lt;/p&gt;
&lt;p&gt;Over the years, I modified all the lights, air conditioners and heaters of my apartment so as to control them via MQTT. In the process, I also deployed multiple sensors among which are PIR motion sensors. This node app subscribes to the MQTT topics of all motion sensors and determines in which room the user is based on which sensor was triggered.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Smart home control panel (SHCP)</title>
      <link>https://articles.maximemoreillon.com/articles/154/</link>
      <pubDate>Tue, 10 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/154/</guid>
      
      <description>&lt;p&gt;I&amp;rsquo;ve been using &lt;a href=&#34;https://www.home-assistant.io/&#34;&gt;Home Assistant&lt;/a&gt; to control my home IoT devices for a while. Although it fulfills all my needs, I wanted to make my own system so as to get a fully customized smart home control panel and learn how to build such an application in the process.&lt;/p&gt;
&lt;p&gt;A simple way to build such an app would be to open the port corresponding to MQTT on my router and make an UI in JavaScript with an MQTT client-side library to communicate with the devices directly. However, for security reasons, I prefer to open only web-related ports to the public. Moreover, my MQTT traffic is currently unencrypted so it would not be wise to use it on a public network. Ideally, I would like to keep all MQTT communication internally with the MQTT port closed on my router, communicating via encrypted TCP traffic. For this purpose, I built a &lt;a href=&#34;https://nodejs.org/&#34;&gt;Node.js&lt;/a&gt; app that interacts with the outside world through HTTPS and then communicates with IoT devices internally.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Solar power setup</title>
      <link>https://articles.maximemoreillon.com/articles/186/</link>
      <pubDate>Tue, 10 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/186/</guid>
      
      <description>&lt;p&gt;I got my hands on a 600W 12V inverter so I decided to experiment with generating my own electricity.&lt;/p&gt;
&lt;p&gt;The inverter converts 12V DC power into 100V AC electricity which can be used for household appliances. Here, the 12V DC power is supplied by a 45Ah lead-acid battery, which would allow the inverter to run at full power for slightly short of an hour.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.maximemoreillon.com/images/62b91cd73bbcbae9ee77c094&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;The battery is charged by a 30W solar panel, through a 10A solar charge controller. Thus, with full sunlight, the battery would theoretically be charged in about 18 hours. I don&amp;rsquo;t intend to use the inverter on a daily basis so the slow rate of charge isn&amp;rsquo;t so much of a limitation. If needed, I could still add another solar panel in parallel in order to boost the charging current.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>IoT Current consumption monitoring system</title>
      <link>https://articles.maximemoreillon.com/articles/83/</link>
      <pubDate>Mon, 09 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/83/</guid>
      
      <description>&lt;p&gt;When you don&amp;rsquo;t know how much power your air conditioner draws, it&amp;rsquo;s easy to leave it running without feeling too guilty. And then the electricity bill comes&amp;hellip;&lt;/p&gt;
&lt;p&gt;The objective of this project is to get an approximate measurement of how much electric power is being used in my apartment. Additionally, for the sake of safety, the measurement system should not require altering the electrical wiring currently in place. In other words, the measurement should be non-invasive.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>This very application, a CMS based on Neo4J</title>
      <link>https://articles.maximemoreillon.com/articles/112/</link>
      <pubDate>Thu, 05 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/112/</guid>
      
      <description>&lt;p&gt;Publishing articles on a website can be as simple as uploading HTML files to a web server. However, writing articles in raw HTML can be time consuming. A content management system (CMS) is an application designed to solve this issue by providing a simple way to create and manage web content directly from the web browser. There are many CMSs available, namely Wordpress or Joomla but I decided to create my own as a form of practice and in order to have it highly customized to my needs.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Mongoose bulkWrite upsert</title>
      <link>https://articles.maximemoreillon.com/articles/287/</link>
      <pubDate>Sun, 26 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/287/</guid>
      
      <description>&lt;p&gt;Here is a code snippet for a bulk update with upsert using Mongoose:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;let bulk_operations = []
  for (var transaction of req.body.transactions) {
    bulk_operations.push({
      updateOne: {
        filter: transaction,
        update: transaction,
        upsert: true
      }
    })
  }

  Transaction.bulkWrite(bulk_operations)
  .then( bulkWriteOpResult =&amp;gt; {
    console.log(&amp;#39;BULK update OK&amp;#39;);
    res.send(&amp;#39;OK&amp;#39;)
  })
  .catch( err =&amp;gt; {
    console.log(&amp;#39;BULK update error&amp;#39;);
    res.status(500)
  });
&lt;/code&gt;&lt;/pre&gt;</description>
      
    </item>
    
    <item>
      <title>Publish a module to NPM</title>
      <link>https://articles.maximemoreillon.com/articles/385/</link>
      <pubDate>Sat, 18 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/385/</guid>
      
      <description>&lt;p&gt;This article is based on &lt;a href=&#34;https://www.freecodecamp.org/news/how-to-make-a-beautiful-tiny-npm-package-and-publish-it-2881d4307f78/&#34;&gt;this publiation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To publish to npm, being logged in is required:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm login
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The package to be published must be contained in its own directory, which must include a &lt;code&gt;package.json&lt;/code&gt; file&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;package.json&lt;/code&gt; file must contain at least the following information:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{
  &amp;#34;name&amp;#34;: &amp;#34;@USERNAME/MODULE_NAME&amp;#34;,
  &amp;#34;version&amp;#34;: &amp;#34;0.0.1&amp;#34;
  &amp;#34;main&amp;#34;: &amp;#34;FILE.js&amp;#34;,
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;where &lt;code&gt;USERNAME&lt;/code&gt; is the username of registered npmjs.com account, &lt;code&gt;MODULE_NAME&lt;/code&gt; is the name of the module to publish and &lt;code&gt;FILE.js&lt;/code&gt; the main file of the module.&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>NodeJS app dockerization</title>
      <link>https://articles.maximemoreillon.com/articles/343/</link>
      <pubDate>Thu, 09 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/343/</guid>
      
      <description>&lt;p&gt;NodeJS apps can be containerized using the &lt;code&gt;docker build&lt;/code&gt; command. This article is based on &lt;a href=&#34;https://nodejs.org/de/docs/guides/nodejs-docker-webapp/&#34;&gt;this guide&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To create a container image, a Dockerfile is needed. Here is an example specifically made for the containerization of NodeJS apps:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;FROM node:14

# Create and move into app directory
WORKDIR /usr/src/app

# Copy files of host current workdir
# into container workdir
COPY . .

# Install dependecies described in packages.json
RUN npm install

# Open port 8080
EXPOSE 8080

# Run the node app
CMD [ &amp;#34;node&amp;#34;, &amp;#34;server.js&amp;#34; ]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;RUN is for commands to be executed during the container building process&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>Puppeteer setup for NodeJS</title>
      <link>https://articles.maximemoreillon.com/articles/266/</link>
      <pubDate>Wed, 08 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/266/</guid>
      
      <description>&lt;p&gt;Puppeteer is a headless browser with which NodeJS can interact to automate web pages manipulation.&lt;/p&gt;
&lt;h2 id=&#34;installation&#34;&gt;Installation&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install --save puppeteer
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;fixing-dependency-issues&#34;&gt;Fixing dependency issues&lt;/h2&gt;
&lt;p&gt;If this error occurs:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;error while loading shared libraries: libX11-xcb.so.1: cannot open shared object file: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Install dependencies:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt install gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3 libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4 libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6 ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget
&lt;/code&gt;&lt;/pre&gt;</description>
      
    </item>
    
    <item>
      <title>Testing in NodeJS with Mocha</title>
      <link>https://articles.maximemoreillon.com/articles/341/</link>
      <pubDate>Wed, 08 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/341/</guid>
      
      <description>&lt;p&gt;Mocha is a popular testing framework for NodeJS. it can be installed using npm:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm install mocha
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Mocha works with files placed inside the &lt;em&gt;test&lt;/em&gt; directory, which must be created:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;mkdir test
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;setting-up-npm-run-command&#34;&gt;Setting up npm run command&lt;/h2&gt;
&lt;p&gt;Normally, mocha is executed using the following command:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;./node_modules/mocha/bin/mocha
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;To simplify things, &lt;em&gt;package.json&lt;/em&gt; can be modified as such:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;...
&amp;#34;scripts&amp;#34;: {
  &amp;#34;test&amp;#34;: &amp;#34;mocha&amp;#34;
},
...
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Mocha can then be executed using the following command:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm run test
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;test/test.js&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>NodeJS modules</title>
      <link>https://articles.maximemoreillon.com/articles/264/</link>
      <pubDate>Tue, 07 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/264/</guid>
      
      <description>&lt;p&gt;A JavaScript file can be imported as a module into another file using the &lt;code&gt;require&lt;/code&gt; command. For example, he file myPackage.js can be imported as so:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var myModule= require(&amp;#39;./myModule&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here, &lt;code&gt;myModule&lt;/code&gt; becomes an object whose properties are that nested in the &lt;code&gt;exports&lt;/code&gt; object present in the myModule.js file:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;exports.foo= &amp;#34;bar&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This allows the variable foo to be used in the code that imported myModule.js:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var myModule= require(&amp;#39;./myModule&amp;#39;)
console.log(myModule.foo) // Will print &amp;#34;bar&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;However, &lt;code&gt;exports&lt;/code&gt;is an alias of module.exports. Consequently, whatever is assigned to exports is also available on module.exports. However, if something is assigned directly to exports, then the shortcut to module.exports is lost (from &lt;a href=&#34;https://adrianmejia.com/getting-started-with-node-js-modules-require-exports-imports-npm-and-beyond/&#34;&gt;here&lt;/a&gt;&lt;/p&gt;</description>
      
    </item>
    
    <item>
      <title>connect-history-api-fallback ignore certain routes</title>
      <link>https://articles.maximemoreillon.com/articles/262/</link>
      <pubDate>Mon, 16 Dec 2019 00:00:00 +0000</pubDate>
      
      <guid>https://articles.maximemoreillon.com/articles/262/</guid>
      
      <description>&lt;p&gt;For example, if the route /file needs to be handled by express and not the single page application:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;app.use(history({
  rewrites: [
    { from: &amp;#39;/file&amp;#39;, to: &amp;#39;/file&amp;#39;}
  ]
}));
&lt;/code&gt;&lt;/pre&gt;</description>
      
    </item>
    
  </channel>
</rss>
